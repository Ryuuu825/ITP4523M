<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/style.css">
    <script src="../js/w3.js"></script>
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <style>
        .list-group-item {
            padding:30px;
        }
        .placeorder {
            position:absolute;
            top:90%;
            height:100px;
        }

        .pointer {
            cursor: pointer;
        }

        .itemid {
            display:none;
        }
    </style>
    <script>
        function printReceipt() {
            // make the print button disappear
            // make the header and footer disappear
            var disappearElements = document.getElementsByClassName("disappear-print");
            for (var i = 0; i < disappearElements.length; i++) {
                disappearElements[i].style.display = "none";
            }
            // expansion the accordion if it is collapsed
            var accordion = document.getElementsByClassName("accordion-button")[0];
            if (accordion.classList.contains("collapsed")) {
                accordion.click();
            }
            window.print();

            // wait for the print to finish
            for (var i = 0; i < disappearElements.length; i++) {
                disappearElements[i].style.display = "block";
            }
        }
        let isEdit = false;

        function allowEdit() {
            var editElements = document.getElementsByClassName("edit");

            if (!isEdit)
            {
                for (var i = 0; i < editElements.length; i++) {
                    editElements[i].disabled = false;
                    editElements[i].removeAttribute("readonly");
                    // set focus to the first input
                    if (i == 0) {
                        editElements[i].focus();
                    }
                }
                document.getElementById("edit_prompt").innerHTML = "Save";
                isEdit = true;
            }
            else 
            {
                // send the data to the server
                alert("Saving...");
                document.updateform.submit();
                for (var i = 0; i < editElements.length; i++) {
                    editElements[i].disabled = true;
                    editElements[i].removeAttribute("readonly");
                }
                document.getElementById("edit_prompt").innerHTML = "Edit";
                isEdit = false;
            }
            
        }

       
    </script>
</head>
<body onload="w3.includeHTML();">
    <div w3-include-html="header.html" class="disappear-print"></div>
    <div class="m-5 py-3 border-bottom disappear-print">
        <a href="./order.php.html" class="btn btn-secondary px-3 mb-2 p-2 rounded shadow">
            Back
        </a>
        <button class="h2 btn btn-primary text-white px-3 mx-2 p-2 rounded shadow" onclick="printReceipt()">
            print
        </button>
        <form action="#" class="d-inline mx-3" method="get" >
            <button class="h2 btn btn-dark text-white px-3 p-2 rounded shadow" onclick="allowEdit()">
                <span id="edit_prompt">Edit</span>
            </button>
        </form>
        <a href="#deleteorder.php">
            <button class="h2 btn btn-danger text-white px-3 p-2 rounded shadow">
                Delete
            </button>
        </a>
        
        <span class="h2 float-end mx-3">
            $1000
        </span>
        <span class="h2 float-end mx-3">
            Total: 
        </span>
    </div>

    <div class="w-75 mx-auto my-5">
        <div class="accordion" id="accordionExample">
            <div class="accordion-item">
                <h3 class="accordion-header" id="panels-h1">
                    <button class="accordion-button fs-3" type="button" data-bs-toggle="collapse" data-bs-target="#panels-open" aria-expanded="true" aria-controls="panels-open">
                        Sales Order Items
                    </button>
                </h3>
                <div id="panels-open" class="accordion-collapse collapse show" aria-labelledby="panels-h1">
                  <div class="accordion-body">
                    <table class="table table-hover">
                        <thead>
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">Name</th>
                            <th scope="col">Price</th>
                            <th scope="col">Qty</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <th scope="row">1</th>
                            <td>NOVEL NF4091 9”All-way Strong Wind Circulation Fan</td>
                            <td>$500</td>
                            <td>1</td>
                          </tr>
                          <tr>
                            <th scope="row">2</th>
                            <td>CS-RZ24YKA 2.5 HP "Inverter" Split Type Heat Pump Air-Conditioner</td>
                            <td>$20000</td>
                            <td>2</td>
                          </tr>
                          <tr>
                            <th scope="row">3</th>
                            <td>QN100B Neo QLED 2K LED LCD TV</td>
                            <td>$13000</td>
                            <td>3</td>
                          </tr>
                          <tr>
                            <th scope="row">4</th>
                            <td>M33 5G Smartphone</td>
                            <td>$2000</td>
                            <td>4</td>
                          </tr>
                        </tbody>
                      </table>
                  </div>
                </div>
              </div>
        </div>

        <div class="sub-form border rounded mt-5">
                <h3 class="mx-4 mt-5">Sales Order Details</h3>

                <!-- 
                    1.	Order ID
                    2.	Customer’s Email
                    3.	Customer’s Name
                    4.	Customer’s Phone Number
                    5.	Staff ID
                    6.	Staff Name
                    7.	Order Date & Time
                    8.	Delivery Address
                    9.	Delivery Date
                    10.	Item ID
                    11.	Item Name
                    12.	Order Quantity
                    13.	Total Amount
                 -->

                <div class="order-form m-4">
                    <div class="mb-3">
                        <label for="id" class="form-label">Order ID</label>
                        <input readonly disabled type="text" id="id" name="id" class="form-control" value="order132">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Customer Email</label>
                        <input disabled readonly type="text" class="form-control" id="email" value="example@domain.com">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Customer Name</label>
                        <input disabled readonly type="text" class="form-control" id="email" value="Mr. Lee">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Customer Phone</label>
                        <input disabled readonly type="number" class="form-control" id="email" value="24368333">
                    </div>
                    <div class="mb-3">
                        <label for="staticEmail" class="form-label">Staff ID</label>
                        <input type="text" readonly class="form-control" id="staticEmail" value="S0001" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="staticEmail" class="form-label">Staff Name</label>
                        <input type="text" readonly class="form-control" id="staticEmail" value="Ben Poon" disabled>
                    </div>
                    <div class="mb-3">
                        <label for="staticEmail" class="form-label">Order Date</label>
                        <input type="text" readonly class="form-control" id="staticEmail" value="Mon Jun 13 2022 05:37:57 GMT+0000" disabled>
                    </div>
                    <form action="#update_order.php" method="get" name="updateform">
                        <div class="mb-3 delivery" id="delivery-picker">
                            <label for="delivery-date" class="form-label">Delivery Date</label>
                            <input readonly disabled type="date" class="form-control edit" id="delivery-date" value="2022-06-04">
                        </div>
                        <div class="mb-3 delivery">
                            <label for="delivery-address" class="form-label" >Delivery Address</label>
                            <input readonly disabled type="text" class="form-control edit" id="delivery-address" value="120 Tsing Yi Road, · Tsing Yi Island, New Territories">
                        </div>
                    </form>
                </div>
            </div>
            <div style="margin-bottom:100px;">

            </div>

        </div>
    <div w3-include-html="footer.html" class="disappear-print"></div>
</body>
</html>