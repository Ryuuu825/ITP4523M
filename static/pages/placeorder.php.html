<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="stylesheet" href="../css/bootstrap.css" />
        <link rel="stylesheet" href="../css/style.css" />
        <script src="../js/w3.js"></script>
        <!-- JavaScript Bundle with Popper -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
            crossorigin="anonymous"
        ></script>
        <!-- cdn of jquery -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <style>
            .list-group-item {
                padding: 30px;
            }
            .placeorder {
                position: absolute;
                top: 90%;
                height: 100px;
            }

            .pointer {
                cursor: pointer;
            }

            .itemid {
                display: none;
            }
        </style>
        <script>
            function changeQty(qty, parent) {
                var qtyNode = parent.getElementsByClassName("qty")[0];
                var currQty = parseInt(qtyNode.innerHTML);
                console.log(currQty + qty);
                qtyNode.innerHTML = currQty + qty;
            }

            function addToCart(itemid) {
                var listGroup = document.getElementsByClassName("list-group");
                // add item to list-group
                var item = document.getElementById(itemid);
                var z = document.createElement("div"); // is a node
                z.innerHTML = `
                <li class="list-group-item">
                    <h5 class="card-title">NOVEL NF4091 9”All-way Strong Wind Circulation Fan</h5>
                    <div class="itemid">1000</div>
                    <div class="float-end">
                        <svg onclick="changeQty(-1, this.parentElement);" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-dash-circle mx-3 pointer" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/> 
                            <path d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                        </svg>
                        <p class="card-text d-inline qty">1</p>
                        <svg onclick="changeQty(1, this.parentElement);" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle mx-3 pointer" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </div>
                </li>
            `;
                listGroup[0].appendChild(z);
            }

            function search()
            {
                $.ajax({
                    accepts: "application/json",
                    method: "GET",
                    url: "../php/search.php",
                    data: {
                        search: $("#search").val()
                    }
                }).fail(()=>{
                    console.log("error");
                })
            }

            function clearCart() {
                var cart = document.getElementById("cart");
                console.log(cart);
                cart.innerHTML = "";
            }
        </script>
    </head>
    <body onload="w3.includeHTML();">
        
        <div w3-include-html="header.html"></div>
        <div class="m-5 py-3 border-bottom">
            <span class="h2">Place Order</span>
            <a href="#">
                <button
                    class="btn btn-primary float-end"
                    data-bs-toggle="modal"
                    data-bs-target="#exampleModal"
                >
                    <span class="text-white">Next</span>
                </button>
            </a>

            <span class="h2 float-end mx-3"> $1000 </span>
            <span class="h2 float-end mx-3"> Total: </span>
        </div>
        <div class="row w-100" style="height: 75vh" style="position: relative">
            <div class="col-3 h-100 mx-5" style="margin-left: 25px">
                <div
                    class="d-flex align-content-center justify-content-between mb-3"
                >
                    <h3>Shopping cart</h3>
                    <button class="btn btn-secondary">
                        <a
                            href="#"
                            class="text-white text-decoration-none"
                            onclick="clearCart();"
                            >Clear</a
                        >
                    </button>
                </div>
                <div class="h-100" style="overflow-x: scroll">
                    <ul class="list-group w-100" id="cart">
                        <li class="list-group-item">
                            <h5 class="card-title">
                                NOVEL NF4091 9”All-way Strong Wind Circulation
                                Fan
                            </h5>
                            <div class="itemid">1000</div>
                            <div class="float-end">
                                <svg
                                    onclick="changeQty(-1, this.parentElement);"
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="16"
                                    height="16"
                                    fill="currentColor"
                                    class="bi bi-dash-circle mx-3 pointer"
                                    viewBox="0 0 16 16"
                                >
                                    <path
                                        d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                                    />
                                    <path
                                        d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"
                                    />
                                </svg>
                                <p class="card-text d-inline qty">10</p>
                                <svg
                                    onclick="changeQty(1, this.parentElement);"
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="16"
                                    height="16"
                                    fill="currentColor"
                                    class="bi bi-plus-circle mx-3 pointer"
                                    viewBox="0 0 16 16"
                                >
                                    <path
                                        d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
                                    />
                                    <path
                                        d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"
                                    />
                                </svg>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col">
                <div class="d-flex justify-content-between">
                    <h3>Shopping cart</h3>
                    <div class="d-flex" role="search">
                        <input
                            class="form-control me-2"
                            type="search"
                            placeholder="Search"
                            aria-label="Search"
                        />
                        <button class="btn btn-outline-success" type="submit" onclick="search()">
                            search
                        </button>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="card col-4 mx-2 my-2" style="width: 18rem">
                        <div class="card-body">
                            <h5 class="card-title">
                                NOVEL NF4091 9”All-way Strong Wind Circulation
                                Fan
                            </h5>
                            <a
                                href="#"
                                class="btn btn-primary text-white"
                                onclick="addToCart('d')"
                                >Add to cart</a
                            >
                        </div>
                    </div>

                    <div class="card col-4 mx-2 my-2" style="width: 18rem">
                        <div class="card-body">
                            <h5 class="card-title">
                                NOVEL NF4091 9”All-way Strong Wind Circulation
                                Fan
                            </h5>
                            <a
                                href="#"
                                class="btn btn-primary text-white"
                                onclick="addToCart('d')"
                                >Add to cart</a
                            >
                        </div>
                    </div>

                    <div class="card col-4 mx-2 my-2" style="width: 18rem">
                        <div class="card-body">
                            <h5 class="card-title">
                                CS-RZ24YKA 2.5 HP "Inverter" Split Type Heat
                                Pump Air-Conditionere
                            </h5>
                            <a
                                href="#"
                                class="btn btn-primary text-white"
                                onclick="addToCart('d')"
                                >Add to cart</a
                            >
                        </div>
                    </div>

                    <div class="card col-4 mx-2 my-2" style="width: 18rem">
                        <div class="card-body">
                            <h5 class="card-title">
                                QN100B Neo QLED 2K LED LCD TV
                            </h5>
                            <a
                                href="#"
                                class="btn btn-primary text-white"
                                onclick="addToCart('d')"
                                >Add to cart</a
                            >
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div
            class="modal fade"
            id="exampleModal"
            tabindex="-1"
            aria-labelledby="exampleModalLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">
                            Do you sure?
                            <!-- <?php echo $item['name']; ?> -->
                        </h5>
                        <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <div class="fs-5">Total Price : $1000</div>
                    </div>
                    <div class="modal-footer">
                            <a href="placeorder-2.php.html">
                                <button
                                    type="button"
                                    class="btn btn-secondary"
                                    data-bs-dismiss="modal"
                                >
                                    Ok
                                </button>
                            </a>
                    </div>
                </div>
            </div>
        </div>
        <div w3-include-html="footer.html"></div>
    </body>
</html>
